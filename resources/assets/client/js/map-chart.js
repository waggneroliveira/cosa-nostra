!function(e){"use strict";e(document).ready((function(){e("#chartdiv").length&&am4core.ready((function(){am4core.useTheme(am4themes_animated);var t=am4core.create("chartdiv",am4maps.MapChart);t.geodata=am4geodata_worldLow;var a=document.getElementById("is_zoom").value;""!=document.getElementById("initial_zoom").value?t.homeZoomLevel=document.getElementById("initial_zoom").value:t.homeZoomLevel=1,t.chartContainer.wheelable=""!=a,t.projection=new am4maps.projections.Miller;var o=t.series.push(new am4maps.MapPolygonSeries);o.exclude=["AQ"],o.useGeodata=!0;var l=o.mapPolygons.template,r=document.getElementById("map_opacity").value;""!=r&&(l.polygon.fillOpacity=parseFloat(r));var m=document.getElementById("map_color").value,i=document.getElementById("map_hover_color").value,p=l.states.create("hover");""!=i&&(p.properties.fill=i),""!=m&&(l.fill=m);var n=t.series.push(new am4maps.MapImageSeries);if(n.mapImages.template.propertyFields.longitude="longitude",n.mapImages.template.propertyFields.latitude="latitude",n.mapImages.template.tooltipText="{title}",n.mapImages.template.propertyFields.url="url",""!=document.getElementById("map_tooltip_back_color").value&&(n.tooltip.getFillFromObject=!1,n.tooltip.background.fill=document.getElementById("map_tooltip_back_color").value),""!=document.getElementById("map_tooltip_text_color").value&&(n.tooltip.getFillFromObject=!1,n.tooltip.label.fill=document.getElementById("map_tooltip_text_color").value),""!=document.getElementById("map_tooltip_radius").value){var c=document.getElementById("map_tooltip_radius").value;n.tooltip.background.cornerRadius=parseFloat(c)}var d=n.mapImages.template.createChild(am4core.Circle);d.radius=3,d.propertyFields.fill="color";var u=n.mapImages.template.createChild(am4core.Circle);function s(e){e.animate([{property:"scale",from:1,to:5},{property:"opacity",from:1,to:0}],1e3,am4core.ease.circleOut).events.on("animationended",(function(e){s(e.target.object)}))}u.radius=3,u.propertyFields.fill="color",d.events.on("inited",(function(e){s(e.target)}));new am4core.ColorSet;var g=document.getElementById("map-data").value,v=JSON.parse(g),y=[];e.each(v,(function(e,t){var a={title:t.title,latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude),color:t.marker_color};y.push(a)})),n.data=y}))}))}(jQuery);